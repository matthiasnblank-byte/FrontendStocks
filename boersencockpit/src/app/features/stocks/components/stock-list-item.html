<a
  class="group flex flex-col gap-4 rounded-xl border border-neutral-200 bg-white p-4 shadow-sm transition hover:border-neutral-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 dark:border-neutral-700 dark:bg-neutral-900"
  [routerLink]="['/stocks', symbol]"
  role="link"
  [attr.aria-label]="'Zu Detailansicht von ' + symbol"
>
  <div class="flex items-center justify-between gap-4">
    <div class="space-y-1">
      <p class="font-mono text-lg font-semibold tracking-tight text-neutral-900 dark:text-neutral-100">
        {{ symbol }}
      </p>
      <p class="text-sm text-neutral-500 dark:text-neutral-400">{{ name }}</p>
    </div>
    <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium" [ngClass]="changeBadgeClasses">
      <ng-container *ngIf="quote; else neutralChange">
        {{ changePrefix }}{{ (quote.changePct / 100) | percent:'1.2-2':'de-DE' }}
      </ng-container>
      <ng-template #neutralChange>–</ng-template>
    </span>
  </div>
  <div class="flex items-baseline justify-between gap-4">
    <div class="space-y-1">
      <p class="text-sm text-neutral-500 dark:text-neutral-400">Letzter Preis</p>
      <p class="text-xl font-semibold text-neutral-900 dark:text-neutral-100" data-testid="quote">
        <ng-container *ngIf="quote; else priceSkeleton">
          {{ quote.price | currency: currency:'symbol':'1.2-2':'de-DE' }}
        </ng-container>
      </p>
      <ng-template #priceSkeleton>
        <span class="inline-flex h-6 w-24 animate-pulse rounded bg-neutral-200 dark:bg-neutral-700" aria-hidden="true"></span>
      </ng-template>
    </div>
    <span class="text-xs uppercase tracking-wide text-neutral-400">Details →</span>
  </div>
</a>
